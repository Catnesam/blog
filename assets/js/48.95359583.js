(window.webpackJsonp=window.webpackJsonp||[]).push([[48],{441:function(s,t,a){"use strict";a.r(t);var n=a(2),e=Object(n.a)({},(function(){var s=this,t=s.$createElement,a=s._self._c||t;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("h1",{attrs:{id:"axios"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#axios"}},[s._v("#")]),s._v(" axios")]),s._v(" "),a("p",[s._v("json-server使用：")]),s._v(" "),a("p",[s._v("安装后，在json文件上层")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[s._v("json-server --watch db.json\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("h2",{attrs:{id:"是什么"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#是什么"}},[s._v("#")]),s._v(" 是什么")]),s._v(" "),a("p",[s._v("前端最流行的ajax请求库")]),s._v(" "),a("p",[a("strong",[s._v("特点：")])]),s._v(" "),a("ul",[a("li",[s._v("基于xhr + promise的异步ajax请求")]),s._v(" "),a("li",[s._v("浏览器、node都可用")]),s._v(" "),a("li",[s._v("支持请求/响应拦截")]),s._v(" "),a("li",[s._v("支持请求取消")]),s._v(" "),a("li",[s._v("请求/响应数据转换")]),s._v(" "),a("li",[s._v("批量发多个请求")])]),s._v(" "),a("h2",{attrs:{id:"实践"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#实践"}},[s._v("#")]),s._v(" 实践")]),s._v(" "),a("p",[s._v("config：")]),s._v(" "),a("div",{staticClass:"language-json line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-json"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// `url` is the server URL that will be used for the request")]),s._v("\n  url"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" '/user'"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// `method` is the request method to be used when making the request")]),s._v("\n  method"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" 'get'"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// default")]),s._v("\n\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// `baseURL` will be prepended to `url` unless `url` is absolute.")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// It can be convenient to set `baseURL` for an instance of axios to pass relative URLs")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// to methods of that instance.")]),s._v("\n  baseURL"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" 'https"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//some-domain.com/api/',")]),s._v("\n\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// `transformRequest` allows changes to the request data before it is sent to the server")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// This is only applicable for request methods 'PUT', 'POST', 'PATCH' and 'DELETE'")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// The last function in the array must return a string or an instance of Buffer, ArrayBuffer,")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// FormData or Stream")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// You may modify the headers object.")]),s._v("\n  transformRequest"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("function (data"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" headers) "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// Do whatever you want to transform the data")]),s._v("\n\n    return data;\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// `transformResponse` allows changes to the response data to be made before")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// it is passed to then/catch")]),s._v("\n  transformResponse"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("function (data) "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// Do whatever you want to transform the data")]),s._v("\n\n    return data;\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// `headers` are custom headers to be sent")]),s._v("\n  headers"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("'X-Requested-With'"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" 'XMLHttpRequest'"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// `params` are the URL parameters to be sent with the request")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// Must be a plain object or a URLSearchParams object")]),s._v("\n  params"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    ID"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("12345")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// `paramsSerializer` is an optional function in charge of serializing `params`")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// (e.g. https://www.npmjs.com/package/qs, http://api.jquery.com/jquery.param/)")]),s._v("\n  paramsSerializer"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" function (params) "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    return Qs.stringify(params"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("arrayFormat"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" 'brackets'"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v(")\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// `data` is the data to be sent as the request body")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// Only applicable for request methods 'PUT', 'POST', 'DELETE , and 'PATCH'")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// When no `transformRequest` is set, must be of one of the following types:")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// - string, plain object, ArrayBuffer, ArrayBufferView, URLSearchParams")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// - Browser only: FormData, File, Blob")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// - Node only: Stream, Buffer")]),s._v("\n  data"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    firstName"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" 'Fred'\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  \n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// syntax alternative to send data into the body")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// method post")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// only the value is sent, not the key")]),s._v("\n  data"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" 'Country=Brasil&City=Belo Horizonte'"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// `timeout` specifies the number of milliseconds before the request times out.")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// If the request takes longer than `timeout`, the request will be aborted.")]),s._v("\n  timeout"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1000")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// default is `0` (no timeout)")]),s._v("\n\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// `withCredentials` indicates whether or not cross-site Access-Control requests")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// should be made using credentials")]),s._v("\n  withCredentials"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("false")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// default")]),s._v("\n\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// `adapter` allows custom handling of requests which makes testing easier.")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// Return a promise and supply a valid response (see lib/adapters/README.md).")]),s._v("\n  adapter"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" function (config) "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("/* ... */")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// `auth` indicates that HTTP Basic auth should be used, and supplies credentials.")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// This will set an `Authorization` header, overwriting any existing")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// `Authorization` custom headers you have set using `headers`.")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// Please note that only HTTP Basic auth is configurable through this parameter.")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// For Bearer tokens and such, use `Authorization` custom headers instead.")]),s._v("\n  auth"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    username"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" 'janedoe'"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    password"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" 's"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("00")]),s._v("pers"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),s._v("cret'\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// `responseType` indicates the type of data that the server will respond with")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// options are: 'arraybuffer', 'document', 'json', 'text', 'stream'")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//   browser only: 'blob'")]),s._v("\n  responseType"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" 'json'"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// default")]),s._v("\n\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// `responseEncoding` indicates encoding to use for decoding responses (Node.js only)")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// Note: Ignored for `responseType` of 'stream' or client-side requests")]),s._v("\n  responseEncoding"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" 'utf"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("8")]),s._v("'"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// default")]),s._v("\n\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// `xsrfCookieName` is the name of the cookie to use as a value for xsrf token")]),s._v("\n  xsrfCookieName"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" 'XSRF-TOKEN'"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// default")]),s._v("\n\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// `xsrfHeaderName` is the name of the http header that carries the xsrf token value")]),s._v("\n  xsrfHeaderName"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" 'X-XSRF-TOKEN'"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// default")]),s._v("\n\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// `onUploadProgress` allows handling of progress events for uploads")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// browser only")]),s._v("\n  onUploadProgress"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" function (progressEvent) "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// Do whatever you want with the native progress event")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// `onDownloadProgress` allows handling of progress events for downloads")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// browser only")]),s._v("\n  onDownloadProgress"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" function (progressEvent) "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// Do whatever you want with the native progress event")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// `maxContentLength` defines the max size of the http response content in bytes allowed in node.js")]),s._v("\n  maxContentLength"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2000")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// `maxBodyLength` (Node only option) defines the max size of the http request content in bytes allowed")]),s._v("\n  maxBodyLength"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2000")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// `validateStatus` defines whether to resolve or reject the promise for a given")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// HTTP response status code. If `validateStatus` returns `true` (or is set to `null`")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// or `undefined`), the promise will be resolved; otherwise, the promise will be")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// rejected.")]),s._v("\n  validateStatus"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" function (status) "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    return status >= "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("200")]),s._v(" && status < "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("300")]),s._v("; "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// default")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// `maxRedirects` defines the maximum number of redirects to follow in node.js.")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// If set to 0, no redirects will be followed.")]),s._v("\n  maxRedirects"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("5")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// default")]),s._v("\n\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// `socketPath` defines a UNIX Socket to be used in node.js.")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// e.g. '/var/run/docker.sock' to send requests to the docker daemon.")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// Only either `socketPath` or `proxy` can be specified.")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// If both are specified, `socketPath` is used.")]),s._v("\n  socketPath"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token null keyword"}},[s._v("null")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// default")]),s._v("\n\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// `httpAgent` and `httpsAgent` define a custom agent to be used when performing http")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// and https requests, respectively, in node.js. This allows options to be added like")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// `keepAlive` that are not enabled by default.")]),s._v("\n  httpAgent"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" new http.Agent("),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v(" keepAlive"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("true")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v(")"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  httpsAgent"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" new https.Agent("),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v(" keepAlive"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("true")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v(")"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// `proxy` defines the hostname, port, and protocol of the proxy server.")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// You can also define your proxy using the conventional `http_proxy` and")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// `https_proxy` environment variables. If you are using environment variables")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// for your proxy configuration, you can also define a `no_proxy` environment")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// variable as a comma-separated list of domains that should not be proxied.")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// Use `false` to disable proxies, ignoring environment variables.")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// `auth` indicates that HTTP Basic auth should be used to connect to the proxy, and")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// supplies credentials.")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// This will set an `Proxy-Authorization` header, overwriting any existing")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// `Proxy-Authorization` custom headers you have set using `headers`.")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// If the proxy server uses HTTPS, then you must set the protocol to `https`. ")]),s._v("\n  proxy"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    protocol"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" 'https'"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    host"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" '"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("127.0")]),s._v("."),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.1")]),s._v("'"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    port"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("9000")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    auth"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n      username"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" 'mikeymike'"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n      password"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" 'rapunz"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),s._v("l'\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// `cancelToken` specifies a cancel token that can be used to cancel the request")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// (see Cancellation section below for details)")]),s._v("\n  cancelToken"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" new CancelToken(function (cancel) "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v(")"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// `decompress` indicates whether or not the response body should be decompressed ")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// automatically. If set to `true` will also remove the 'content-encoding' header ")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// from the responses objects of all decompressed responses")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// - Node only (XHR cannot turn off decompression)")]),s._v("\n  decompress"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("true")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// default")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br"),a("span",{staticClass:"line-number"},[s._v("22")]),a("br"),a("span",{staticClass:"line-number"},[s._v("23")]),a("br"),a("span",{staticClass:"line-number"},[s._v("24")]),a("br"),a("span",{staticClass:"line-number"},[s._v("25")]),a("br"),a("span",{staticClass:"line-number"},[s._v("26")]),a("br"),a("span",{staticClass:"line-number"},[s._v("27")]),a("br"),a("span",{staticClass:"line-number"},[s._v("28")]),a("br"),a("span",{staticClass:"line-number"},[s._v("29")]),a("br"),a("span",{staticClass:"line-number"},[s._v("30")]),a("br"),a("span",{staticClass:"line-number"},[s._v("31")]),a("br"),a("span",{staticClass:"line-number"},[s._v("32")]),a("br"),a("span",{staticClass:"line-number"},[s._v("33")]),a("br"),a("span",{staticClass:"line-number"},[s._v("34")]),a("br"),a("span",{staticClass:"line-number"},[s._v("35")]),a("br"),a("span",{staticClass:"line-number"},[s._v("36")]),a("br"),a("span",{staticClass:"line-number"},[s._v("37")]),a("br"),a("span",{staticClass:"line-number"},[s._v("38")]),a("br"),a("span",{staticClass:"line-number"},[s._v("39")]),a("br"),a("span",{staticClass:"line-number"},[s._v("40")]),a("br"),a("span",{staticClass:"line-number"},[s._v("41")]),a("br"),a("span",{staticClass:"line-number"},[s._v("42")]),a("br"),a("span",{staticClass:"line-number"},[s._v("43")]),a("br"),a("span",{staticClass:"line-number"},[s._v("44")]),a("br"),a("span",{staticClass:"line-number"},[s._v("45")]),a("br"),a("span",{staticClass:"line-number"},[s._v("46")]),a("br"),a("span",{staticClass:"line-number"},[s._v("47")]),a("br"),a("span",{staticClass:"line-number"},[s._v("48")]),a("br"),a("span",{staticClass:"line-number"},[s._v("49")]),a("br"),a("span",{staticClass:"line-number"},[s._v("50")]),a("br"),a("span",{staticClass:"line-number"},[s._v("51")]),a("br"),a("span",{staticClass:"line-number"},[s._v("52")]),a("br"),a("span",{staticClass:"line-number"},[s._v("53")]),a("br"),a("span",{staticClass:"line-number"},[s._v("54")]),a("br"),a("span",{staticClass:"line-number"},[s._v("55")]),a("br"),a("span",{staticClass:"line-number"},[s._v("56")]),a("br"),a("span",{staticClass:"line-number"},[s._v("57")]),a("br"),a("span",{staticClass:"line-number"},[s._v("58")]),a("br"),a("span",{staticClass:"line-number"},[s._v("59")]),a("br"),a("span",{staticClass:"line-number"},[s._v("60")]),a("br"),a("span",{staticClass:"line-number"},[s._v("61")]),a("br"),a("span",{staticClass:"line-number"},[s._v("62")]),a("br"),a("span",{staticClass:"line-number"},[s._v("63")]),a("br"),a("span",{staticClass:"line-number"},[s._v("64")]),a("br"),a("span",{staticClass:"line-number"},[s._v("65")]),a("br"),a("span",{staticClass:"line-number"},[s._v("66")]),a("br"),a("span",{staticClass:"line-number"},[s._v("67")]),a("br"),a("span",{staticClass:"line-number"},[s._v("68")]),a("br"),a("span",{staticClass:"line-number"},[s._v("69")]),a("br"),a("span",{staticClass:"line-number"},[s._v("70")]),a("br"),a("span",{staticClass:"line-number"},[s._v("71")]),a("br"),a("span",{staticClass:"line-number"},[s._v("72")]),a("br"),a("span",{staticClass:"line-number"},[s._v("73")]),a("br"),a("span",{staticClass:"line-number"},[s._v("74")]),a("br"),a("span",{staticClass:"line-number"},[s._v("75")]),a("br"),a("span",{staticClass:"line-number"},[s._v("76")]),a("br"),a("span",{staticClass:"line-number"},[s._v("77")]),a("br"),a("span",{staticClass:"line-number"},[s._v("78")]),a("br"),a("span",{staticClass:"line-number"},[s._v("79")]),a("br"),a("span",{staticClass:"line-number"},[s._v("80")]),a("br"),a("span",{staticClass:"line-number"},[s._v("81")]),a("br"),a("span",{staticClass:"line-number"},[s._v("82")]),a("br"),a("span",{staticClass:"line-number"},[s._v("83")]),a("br"),a("span",{staticClass:"line-number"},[s._v("84")]),a("br"),a("span",{staticClass:"line-number"},[s._v("85")]),a("br"),a("span",{staticClass:"line-number"},[s._v("86")]),a("br"),a("span",{staticClass:"line-number"},[s._v("87")]),a("br"),a("span",{staticClass:"line-number"},[s._v("88")]),a("br"),a("span",{staticClass:"line-number"},[s._v("89")]),a("br"),a("span",{staticClass:"line-number"},[s._v("90")]),a("br"),a("span",{staticClass:"line-number"},[s._v("91")]),a("br"),a("span",{staticClass:"line-number"},[s._v("92")]),a("br"),a("span",{staticClass:"line-number"},[s._v("93")]),a("br"),a("span",{staticClass:"line-number"},[s._v("94")]),a("br"),a("span",{staticClass:"line-number"},[s._v("95")]),a("br"),a("span",{staticClass:"line-number"},[s._v("96")]),a("br"),a("span",{staticClass:"line-number"},[s._v("97")]),a("br"),a("span",{staticClass:"line-number"},[s._v("98")]),a("br"),a("span",{staticClass:"line-number"},[s._v("99")]),a("br"),a("span",{staticClass:"line-number"},[s._v("100")]),a("br"),a("span",{staticClass:"line-number"},[s._v("101")]),a("br"),a("span",{staticClass:"line-number"},[s._v("102")]),a("br"),a("span",{staticClass:"line-number"},[s._v("103")]),a("br"),a("span",{staticClass:"line-number"},[s._v("104")]),a("br"),a("span",{staticClass:"line-number"},[s._v("105")]),a("br"),a("span",{staticClass:"line-number"},[s._v("106")]),a("br"),a("span",{staticClass:"line-number"},[s._v("107")]),a("br"),a("span",{staticClass:"line-number"},[s._v("108")]),a("br"),a("span",{staticClass:"line-number"},[s._v("109")]),a("br"),a("span",{staticClass:"line-number"},[s._v("110")]),a("br"),a("span",{staticClass:"line-number"},[s._v("111")]),a("br"),a("span",{staticClass:"line-number"},[s._v("112")]),a("br"),a("span",{staticClass:"line-number"},[s._v("113")]),a("br"),a("span",{staticClass:"line-number"},[s._v("114")]),a("br"),a("span",{staticClass:"line-number"},[s._v("115")]),a("br"),a("span",{staticClass:"line-number"},[s._v("116")]),a("br"),a("span",{staticClass:"line-number"},[s._v("117")]),a("br"),a("span",{staticClass:"line-number"},[s._v("118")]),a("br"),a("span",{staticClass:"line-number"},[s._v("119")]),a("br"),a("span",{staticClass:"line-number"},[s._v("120")]),a("br"),a("span",{staticClass:"line-number"},[s._v("121")]),a("br"),a("span",{staticClass:"line-number"},[s._v("122")]),a("br"),a("span",{staticClass:"line-number"},[s._v("123")]),a("br"),a("span",{staticClass:"line-number"},[s._v("124")]),a("br"),a("span",{staticClass:"line-number"},[s._v("125")]),a("br"),a("span",{staticClass:"line-number"},[s._v("126")]),a("br"),a("span",{staticClass:"line-number"},[s._v("127")]),a("br"),a("span",{staticClass:"line-number"},[s._v("128")]),a("br"),a("span",{staticClass:"line-number"},[s._v("129")]),a("br"),a("span",{staticClass:"line-number"},[s._v("130")]),a("br"),a("span",{staticClass:"line-number"},[s._v("131")]),a("br"),a("span",{staticClass:"line-number"},[s._v("132")]),a("br"),a("span",{staticClass:"line-number"},[s._v("133")]),a("br"),a("span",{staticClass:"line-number"},[s._v("134")]),a("br"),a("span",{staticClass:"line-number"},[s._v("135")]),a("br"),a("span",{staticClass:"line-number"},[s._v("136")]),a("br"),a("span",{staticClass:"line-number"},[s._v("137")]),a("br"),a("span",{staticClass:"line-number"},[s._v("138")]),a("br"),a("span",{staticClass:"line-number"},[s._v("139")]),a("br"),a("span",{staticClass:"line-number"},[s._v("140")]),a("br"),a("span",{staticClass:"line-number"},[s._v("141")]),a("br"),a("span",{staticClass:"line-number"},[s._v("142")]),a("br"),a("span",{staticClass:"line-number"},[s._v("143")]),a("br"),a("span",{staticClass:"line-number"},[s._v("144")]),a("br"),a("span",{staticClass:"line-number"},[s._v("145")]),a("br"),a("span",{staticClass:"line-number"},[s._v("146")]),a("br"),a("span",{staticClass:"line-number"},[s._v("147")]),a("br"),a("span",{staticClass:"line-number"},[s._v("148")]),a("br"),a("span",{staticClass:"line-number"},[s._v("149")]),a("br"),a("span",{staticClass:"line-number"},[s._v("150")]),a("br"),a("span",{staticClass:"line-number"},[s._v("151")]),a("br"),a("span",{staticClass:"line-number"},[s._v("152")]),a("br"),a("span",{staticClass:"line-number"},[s._v("153")]),a("br"),a("span",{staticClass:"line-number"},[s._v("154")]),a("br"),a("span",{staticClass:"line-number"},[s._v("155")]),a("br"),a("span",{staticClass:"line-number"},[s._v("156")]),a("br"),a("span",{staticClass:"line-number"},[s._v("157")]),a("br"),a("span",{staticClass:"line-number"},[s._v("158")]),a("br"),a("span",{staticClass:"line-number"},[s._v("159")]),a("br"),a("span",{staticClass:"line-number"},[s._v("160")]),a("br"),a("span",{staticClass:"line-number"},[s._v("161")]),a("br"),a("span",{staticClass:"line-number"},[s._v("162")]),a("br"),a("span",{staticClass:"line-number"},[s._v("163")]),a("br"),a("span",{staticClass:"line-number"},[s._v("164")]),a("br"),a("span",{staticClass:"line-number"},[s._v("165")]),a("br"),a("span",{staticClass:"line-number"},[s._v("166")]),a("br"),a("span",{staticClass:"line-number"},[s._v("167")]),a("br"),a("span",{staticClass:"line-number"},[s._v("168")]),a("br"),a("span",{staticClass:"line-number"},[s._v("169")]),a("br"),a("span",{staticClass:"line-number"},[s._v("170")]),a("br"),a("span",{staticClass:"line-number"},[s._v("171")]),a("br"),a("span",{staticClass:"line-number"},[s._v("172")]),a("br"),a("span",{staticClass:"line-number"},[s._v("173")]),a("br"),a("span",{staticClass:"line-number"},[s._v("174")]),a("br"),a("span",{staticClass:"line-number"},[s._v("175")]),a("br")])]),a("h2",{attrs:{id:"源码"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#源码"}},[s._v("#")]),s._v(" 源码")]),s._v(" "),a("h3",{attrs:{id:"源码结构"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#源码结构"}},[s._v("#")]),s._v(" 源码结构")]),s._v(" "),a("p",[s._v("├── /dist/\t#输出目录")]),s._v(" "),a("p",[s._v("├── /lib/\t#源码目录")]),s._v(" "),a("p",[s._v("│ ├── /adapters/\t#适配器，其实就是xhr\\http两个，对应前端与node")]),s._v(" "),a("p",[s._v("│ │ ├── http.js")]),s._v(" "),a("p",[s._v("│ │ └── xhr.js")]),s._v(" "),a("p",[s._v("│ ├── /cancel/\t#取消请求的功能")]),s._v(" "),a("p",[s._v("│ ├── /core/\t#核心功能")]),s._v(" "),a("p",[s._v("│ │ ├── Axios.js\t#核心主类")]),s._v(" "),a("p",[s._v("│ │ ├── dispatchRequest.js\t#来调用适配器方法的函数")]),s._v(" "),a("p",[s._v("│ │ ├── InterceptorManager.js\t#拦截器的管理函数")]),s._v(" "),a("p",[s._v("│ │ └── settle.js\t#响应状态处理函数，改变Promise的对象")]),s._v(" "),a("p",[s._v("│ ├── /helpers/\t#辅助方法")]),s._v(" "),a("p",[s._v("│ ├── axios.js\t#接口暴露")]),s._v(" "),a("p",[s._v("│ ├── defaults.js\t#默认配置")]),s._v(" "),a("p",[s._v("│ └── utils.js\t#工具类")]),s._v(" "),a("p",[s._v("├── package.json")]),s._v(" "),a("p",[s._v("├── index.d.ts")]),s._v(" "),a("p",[s._v("└── index.js\t#入口文件")]),s._v(" "),a("h3",{attrs:{id:"总结"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#总结"}},[s._v("#")]),s._v(" 总结")]),s._v(" "),a("h4",{attrs:{id:"axios与axios的联系"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#axios与axios的联系"}},[s._v("#")]),s._v(" axios与Axios的联系")]),s._v(" "),a("ol",[a("li",[s._v("从语法上来说，axios不是Axios的实例")]),s._v(" "),a("li",[s._v("从功能来说，axios是Axios的实例")]),s._v(" "),a("li",[s._v("axios是Axios.prototype.request()函数bind()返回的对象")]),s._v(" "),a("li",[s._v("axios有Axios原型对象上的所有方法，有Axios对象上的所有属性")])]),s._v(" "),a("h4",{attrs:{id:"axios与instance实例"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#axios与instance实例"}},[s._v("#")]),s._v(" axios与instance实例")]),s._v(" "),a("p",[s._v("instance:  axios.js中createInstance（）创建出来的实例")]),s._v(" "),a("ol",[a("li",[s._v("相同点：\n"),a("ol",[a("li",[s._v("都是能发任意请求的函数：request(config)")]),s._v(" "),a("li",[s._v("都有特定的方法：get\\post\\pust...")]),s._v(" "),a("li",[s._v("都有默认配置和拦截器属性：default、interceptors")])])]),s._v(" "),a("li",[s._v("不同：\n"),a("ol",[a("li",[s._v("默认配置可能不同")]),s._v(" "),a("li",[s._v("axios后面还添加了（create，CancelToken，all）等方法，instance没有")])])])]),s._v(" "),a("h2",{attrs:{id:"todo"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#todo"}},[s._v("#")]),s._v(" TODO")]),s._v(" "),a("ul",[a("li",[s._v("[ ] 源码模拟实现")])])])}),[],!1,null,null,null);t.default=e.exports}}]);